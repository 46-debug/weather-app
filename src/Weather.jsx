import React, { useEffect, useState } from "react";

const Weather = () => {

    const [city, setCity] = useState(null);
    const [search, setSearch] = useState("Ara");

    useEffect(() => {
        const fetchApi = async () => {

            const url = `https://api.openweathermap.org/data/2.5/weather?q=${search}&units=metric&appid=c93c72146669cbbeca588175bf7c56f8`
            const response = await fetch(url);
            const resJson = await response.json();
            setCity(resJson.main);

        };

        fetchApi();
    }, [search]);

    return (
        <>
            <div className="card">
                <div className="header">
                    <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 100 99" fill="none">
                        <path d="M5.45 14.85C5.45 11.88 7.43 9.9 10.4 9.9H15.35C18.32 9.9 20.3 11.88 20.3 14.85C20.3 17.82 18.32 19.8 15.35 19.8H10.4C7.43 19.8 5.45 17.82 5.45 14.85ZM10.4 54.45C10.4 51.48 12.38 49.5 15.35 49.5H20.3C23.27 49.5 25.25 51.48 25.25 54.45C25.25 57.42 23.27 59.4 20.3 59.4H15.35C12.38 59.4 10.4 57.42 10.4 54.45ZM10.4 69.3C7.43 69.3 5.45 71.28 5.45 74.25C5.45 77.22 7.43 79.2 10.4 79.2H35.15C38.12 79.2 40.1 77.22 40.1 74.25C40.1 71.28 38.12 69.3 35.15 69.3H10.4ZM79.7 14.85C79.7 11.88 81.68 9.9 84.65 9.9H94.55C97.52 9.9 99.5 11.88 99.5 14.85C99.5 17.82 97.52 19.8 94.55 19.8H84.65C81.68 19.8 79.7 17.82 79.7 14.85ZM25.25 89.1C22.28 89.1 20.3 91.08 20.3 94.05C20.3 97.02 22.28 99 25.25 99H45.05C48.02 99 50 97.02 50 94.05C50 91.08 48.02 89.1 45.05 89.1H25.25ZM5.45 39.6C2.48 39.6 0.5 37.62 0.5 34.65C0.5 31.68 2.48 29.7 5.45 29.7H50C55.445 29.7 59.9 25.245 59.9 19.8C59.9 14.355 55.445 9.9 50 9.9C47.03 9.9 44.555 10.89 43.07 12.87C41.09 14.85 38.12 14.85 36.14 12.87C34.16 10.89 34.16 7.92 36.14 5.94C39.605 2.475 44.555 0 50 0C60.89 0 69.8 8.91 69.8 19.8C69.8 30.69 60.89 39.6 50 39.6H5.45ZM84.65 49.5C87.62 49.5 89.6 47.52 89.6 44.55C89.6 41.58 87.62 39.6 84.65 39.6C83.165 39.6 82.175 40.095 81.185 41.085C79.205 43.065 76.235 43.065 74.255 41.085C72.275 39.105 72.275 36.135 74.255 34.155C76.73 31.185 80.69 29.7 84.65 29.7C93.065 29.7 99.5 36.135 99.5 44.55C99.5 52.965 93.065 59.4 84.65 59.4H40.1C37.13 59.4 35.15 57.42 35.15 54.45C35.15 51.48 37.13 49.5 40.1 49.5H84.65ZM79.7 79.2H54.95C51.98 79.2 50 77.22 50 74.25C50 71.28 51.98 69.3 54.95 69.3H79.7C88.115 69.3 94.55 75.735 94.55 84.15C94.55 92.565 88.115 99 79.7 99C75.74 99 71.78 97.515 69.305 94.545C67.325 92.565 67.325 89.595 69.305 87.615C71.285 85.635 74.255 85.635 76.235 87.615C77.225 88.605 78.215 89.1 79.7 89.1C82.67 89.1 84.65 87.12 84.65 84.15C84.65 81.18 82.67 79.2 79.7 79.2Z" fill="#00A3FF" />
                    </svg>getweather.com
                </div>

                <div className="div-1">
                    <input type="search" placeholder="Search for Cities"
                        onChange={(event) => { setSearch(event.target.value) }} />
                    <button>GET</button>
                </div>

                {!city ? (
                    <p>No Data Found</p>
                ) : (
                    <>
                        <div className="div_2">
                            <div className="info">
                                <h2> {search} </h2>
                                <h3>tempeture:</h3>
                                <h1 className="temp">{city.temp}°c </h1>
                                <h3>Min: {city.temp_min}°c Max: {city.temp_max}°c</h3>
                                <h3>Humidity:</h3>
                                <h2>{city.humidity} %</h2>
                                <h3>AQI:</h3>
                                <h3>150 Normal</h3>
                            </div>

                            <div className="svj">
                                <svg xmlns="http://www.w3.org/2000/svg" width="91" height="92" viewBox="0 0 91 92" fill="none">
                                    <path d="M45.5 18.7C44.3457 18.7 43.2387 18.2415 42.4225 17.4253C41.6064 16.6091 41.1478 15.5021 41.1478 14.3478V4.85217C41.1478 3.69791 41.6064 2.59091 42.4225 1.77472C43.2387 0.958531 44.3457 0.5 45.5 0.5C46.6543 0.5 47.7613 0.958531 48.5774 1.77472C49.3936 2.59091 49.8522 3.69791 49.8522 4.85217V14.3478C49.8522 15.5021 49.3936 16.6091 48.5774 17.4253C47.7613 18.2415 46.6543 18.7 45.5 18.7ZM45.5 91.5C44.3457 91.5 43.2387 91.0415 42.4225 90.2253C41.6064 89.4091 41.1478 88.3021 41.1478 87.1478V77.6522C41.1478 76.4979 41.6064 75.3909 42.4225 74.5747C43.2387 73.7585 44.3457 73.3 45.5 73.3C46.6543 73.3 47.7613 73.7585 48.5774 74.5747C49.3936 75.3909 49.8522 76.4979 49.8522 77.6522V87.1478C49.8522 88.3021 49.3936 89.4091 48.5774 90.2253C47.7613 91.0415 46.6543 91.5 45.5 91.5ZM67.882 27.9701C67.0215 27.97 66.1802 27.7148 65.4647 27.2367C64.7491 26.7586 64.1914 26.0791 63.8619 25.284C63.5325 24.489 63.4461 23.6142 63.6138 22.7701C63.7815 21.926 64.1956 21.1505 64.8039 20.5418L71.5181 13.8275C72.3378 13.0291 73.4391 12.5856 74.5834 12.5932C75.7277 12.6007 76.823 13.0586 77.6322 13.8678C78.4414 14.677 78.8993 15.7723 78.9068 16.9166C78.9144 18.0609 78.4709 19.1622 77.6725 19.9819L70.9582 26.6961C70.5546 27.1006 70.0751 27.4214 69.5472 27.64C69.0193 27.8586 68.4534 27.9708 67.882 27.9701ZM16.4037 79.4484C15.5429 79.4483 14.7015 79.193 13.9858 78.7146C13.2701 78.2362 12.7124 77.5564 12.3831 76.761C12.0538 75.9657 11.9678 75.0906 12.1359 74.2463C12.304 73.4021 12.7187 72.6266 13.3275 72.0181L20.0418 65.3039C20.4439 64.891 20.9241 64.5621 21.4543 64.3363C21.9846 64.1105 22.5545 63.9922 23.1308 63.9884C23.7072 63.9846 24.2785 64.0954 24.8117 64.3142C25.3449 64.533 25.8294 64.8555 26.2369 65.2631C26.6445 65.6706 26.967 66.1551 27.1858 66.6883C27.4046 67.2215 27.5154 67.7928 27.5116 68.3692C27.5078 68.9455 27.3895 69.5154 27.1637 70.0457C26.9379 70.5759 26.609 71.0561 26.1961 71.4582L19.4819 78.1725C19.0782 78.5774 18.5984 78.8986 18.0702 79.1176C17.5419 79.3366 16.9756 79.449 16.4037 79.4484ZM86.6478 50.3522H77.1522C75.9979 50.3522 74.8909 49.8936 74.0747 49.0774C73.2585 48.2613 72.8 47.1543 72.8 46C72.8 44.8457 73.2585 43.7387 74.0747 42.9225C74.8909 42.1064 75.9979 41.6478 77.1522 41.6478H86.6478C87.8021 41.6478 88.9091 42.1064 89.7253 42.9225C90.5415 43.7387 91 44.8457 91 46C91 47.1543 90.5415 48.2613 89.7253 49.0774C88.9091 49.8936 87.8021 50.3522 86.6478 50.3522ZM13.8478 50.3522H4.35217C3.19791 50.3522 2.09091 49.8936 1.27472 49.0774C0.458531 48.2613 0 47.1543 0 46C0 44.8457 0.458531 43.7387 1.27472 42.9225C2.09091 42.1064 3.19791 41.6478 4.35217 41.6478H13.8478C15.0021 41.6478 16.1091 42.1064 16.9253 42.9225C17.7415 43.7387 18.2 44.8457 18.2 46C18.2 47.1543 17.7415 48.2613 16.9253 49.0774C16.1091 49.8936 15.0021 50.3522 13.8478 50.3522ZM74.5963 79.4484C74.0244 79.449 73.4581 79.3366 72.9298 79.1176C72.4016 78.8986 71.9218 78.5774 71.5181 78.1725L64.8039 71.4582C64.0054 70.6385 63.562 69.5372 63.5695 68.3929C63.577 67.2486 64.035 66.1533 64.8441 65.3441C65.6533 64.535 66.7486 64.077 67.8929 64.0695C69.0372 64.062 70.1385 64.5054 70.9582 65.3039L77.6725 72.0181C78.2813 72.6266 78.696 73.4021 78.8641 74.2463C79.0322 75.0906 78.9462 75.9657 78.6169 76.761C78.2876 77.5564 77.7299 78.2362 77.0142 78.7146C76.2985 79.193 75.4571 79.4483 74.5963 79.4484ZM23.118 27.9701C22.5465 27.9713 21.9805 27.8593 21.4525 27.6406C20.9246 27.4219 20.4451 27.101 20.0418 26.6961L13.3275 19.9819C12.5291 19.1622 12.0856 18.0609 12.0932 16.9166C12.1007 15.7723 12.5586 14.677 13.3678 13.8678C14.177 13.0586 15.2723 12.6007 16.4166 12.5932C17.5609 12.5856 18.6622 13.0291 19.4819 13.8275L26.1961 20.5418C26.8044 21.1505 27.2185 21.926 27.3862 22.7701C27.5539 23.6142 27.4675 24.489 27.1381 25.284C26.8086 26.0791 26.2509 26.7586 25.5353 27.2367C24.8198 27.7148 23.9785 27.97 23.118 27.9701ZM45.5 66.1783C41.5091 66.1783 37.6079 64.9948 34.2896 62.7776C30.9713 60.5604 28.385 57.409 26.8577 53.7219C25.3305 50.0348 24.9309 45.9776 25.7095 42.0634C26.488 38.1492 28.4098 34.5538 31.2318 31.7318C34.0538 28.9098 37.6492 26.988 41.5634 26.2095C45.4776 25.4309 49.5348 25.8305 53.2219 27.3577C56.909 28.885 60.0604 31.4713 62.2776 34.7896C64.4948 38.1079 65.6783 42.0091 65.6783 46C65.672 51.3497 63.544 56.4784 59.7612 60.2612C55.9784 64.044 50.8497 66.172 45.5 66.1783Z" fill="#FFD233" />
                                </svg>
                                <h2>Sunny</h2>
                            </div>
                        </div>
                    </>

                )
                }


            </div>

        </>
    );
}

export default Weather;